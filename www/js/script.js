"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}var Header=function(){function t(e){_classCallCheck(this,t),this.root=e,this.timeOut="",this.minicartInterval="",this.animate=!1,this._cacheNodes(),this._bindEvents(),this._ready()}return _createClass(t,[{key:"_cacheNodes",value:function(){this.nodes={mainHeader:$(".mainHeader"),filterTrigger:$(".filterTrigger"),container:$(".mainHeader .container"),mainHeader__menuLink:$(".mainHeader__menuLink"),js_hovered:$(".js-hovered"),mainHeader__hovered:$(".mainHeader__hovered"),mainHeader__contactsItem:$(".mainHeader__contactsItem"),mainHeader__cart:$(".mainHeader__cart"),mainHeader__popup:$(".mainHeader__popup"),mainHeader__contactsItem_address:$(".mainHeader__contactsItem_address"),mainHeader__popupTriangle:$(".mainHeader__popupTriangle"),mainHeader__search:$(".mainHeader__search"),mainHeader__searchTrigger:$(".mainHeader__searchTrigger"),mainHeader__right:$(".mainHeader__right"),mainHeader__searchInput:$(".mainHeader__searchInput"),mainHeader__searchSubmit:$(".mainHeader__searchSubmit"),mainHeader__searchClose:$(".mainHeader__searchClose"),mainHeader__menu:$(".mainHeader__menu"),mainHeader__contacts:$(".mainHeader__contacts"),js_popup:$(".js-popup"),mainHeader__popupMenuPicked:$(".mainHeader__popupMenuPicked"),mainHeader__popupMenuTab:$(".mainHeader__popupMenuTab"),mainHeader__popupMenuItems:$(".mainHeader__popupMenuItems"),mainHeader__popupSearchItem:$(".mainHeader__popupSearchItem")}}},{key:"_bindEvents",value:function(){var i=this;$(window).scroll(function(){var e=$(window).scrollTop(),t=$("body"),a=t.data("scroll"),s=i.nodes.mainHeader.height();e<a||0<=e&&e<=100?i.mainHeaderShow():(i.animate=!0,i.nodes.mainHeader.addClass("hide"),i.nodes.filterTrigger.css({top:"0"}),setTimeout(function(){i.animate=!1},500)),t.data("scroll",e),s-5<=e?i.nodes.filterTrigger.addClass("fixed"):(i.nodes.filterTrigger.removeClass("fixed"),i.nodes.filterTrigger.css({top:"auto"}))}),$("html").click(function(e){return i.nodes.mainHeader__popup.hasClass("active")&&!($(e.target).parents(".mainHeader__popup").get(0)||$(e.target).parents(".js-popup").data("popup")||$(e.target).parents(".mainHeader__cart").data("popup")||$(e.target).parents(".mainHeader__search").get(0)||$(e.target).parents(".filter").get(0)||$(e.target).data("popup"))?(i.nodes.mainHeader__popup.removeClass("active"),setTimeout(function(){i.nodes.mainHeader__popup.removeClass("unhidden")},500),i.nodes.js_popup.removeClass("active"),i.nodes.mainHeader__popupTriangle.removeClass("active"),i.nodes.mainHeader__right.hasClass("active")&&i.searchClose(),!1):$(".filter").get(0)&&"none"!=$(".filter").css("display")&&!$(e.target).parents(".filter").get(0)?($(".filter").slideUp(500),$("html").removeClass("html-hidden"),!1):void 0});var e=navigator.userAgent.toLowerCase(),t=!1;try{t=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString()}catch(e){}(t=t||-1!=e.indexOf("safari")&&!(-1!=e.indexOf("chrome"))&&-1!=e.indexOf("version/"))?$("body").addClass("this_is_safari"):$("body").addClass("this_is_not_safari"),$(window).width()<980?t||this.nodes.js_hovered.hover(function(e){i.onHover($(e.currentTarget))},function(e){i.onUnHover($(e.currentTarget))}):this.nodes.js_hovered.hover(function(e){i.onHover($(e.currentTarget))},function(e){i.onUnHover($(e.currentTarget))}),this.nodes.js_popup.click(function(e){var t=$(".js-popup.active");if(t.get(0)){var a=$(".mainHeader__popup.active");a.get(0)?(a.removeClass("active"),setTimeout(function(){a.removeClass("unhidden")},500),i.nodes.mainHeader__popupTriangle.removeClass("active"),$(".js-popup.active").removeClass("active")):i.popupHeader($(e.currentTarget)),t.get(0)!=$(e.currentTarget).get(0)&&setTimeout(function(){i.popupHeader($(e.currentTarget))},200)}else{var s=$(".mainHeader__popup.active");s.get(0)?(s.removeClass("active"),setTimeout(function(){s.removeClass("unhidden")},500),i.nodes.mainHeader__popupTriangle.removeClass("active"),$(".js-popup.active").removeClass("active")):i.popupHeader($(e.currentTarget))}return!1}),$(window).resize(function(){$(".js-hovered.hovered").get(0)&&i.onHover($(".js-hovered.hovered")),$(".js-triangle.active").get(0)&&i.triangleLeft($(".js-triangle.active"))}),this.nodes.mainHeader__searchTrigger.click(function(){i.nodes.mainHeader__right.hasClass("active")?i.searchClose():(i.nodes.mainHeader__right.css({"flex-grow":1}).addClass("active"),i.nodes.mainHeader__search.addClass("grow"),i.nodes.mainHeader__searchInput.addClass("active grow"),i.nodes.mainHeader__searchSubmit.addClass("active"),i.nodes.mainHeader__searchClose.addClass("active"),i.nodes.mainHeader__menu.addClass("hide"),i.nodes.mainHeader__contacts.addClass("hide"),i.nodes.mainHeader__cart.addClass("hide"),$(".mainHeader__rightOnMobile").addClass("hide"))}),this.nodes.mainHeader__searchClose.click(function(){i.nodes.mainHeader__searchTrigger.click()}),this.nodes.mainHeader__popupSearchItem.click(function(e){i.nodes.mainHeader__searchInput.val($(e.currentTarget).text())}),this.nodes.mainHeader__popupMenuTab.click(function(e){var t=$(e.currentTarget),a=t.index();i.nodes.mainHeader__popupMenuTab.removeClass("active"),t.addClass("active"),i.nodes.mainHeader__popupMenuItems.removeClass("active"),i.nodes.mainHeader__popupMenuItems.eq(a).addClass("active"),i.picked(t)}),$(".js-footer__bottomLink").on("click",function(){$("html, body").stop().animate({scrollTop:0},500,"swing"),setTimeout(function(){i.nodes.mainHeader__searchTrigger.click()},500)})}},{key:"picked",value:function(e){var t=($(".mainHeader__popupOuter").width()-$(".mainHeader__popupMenuInner").width())/2,a=e.offset().left+(e.outerWidth()/2-this.nodes.mainHeader__popupMenuPicked.width()/2)-t,s=e.position().top+30;this.nodes.mainHeader__popupMenuPicked.css({left:"".concat(a,"px"),top:"".concat(s,"px")})}},{key:"_ready",value:function(){this.minicartAnimation()}},{key:"mainHeaderShow",value:function(){var e=this;this.animate=!0,this.nodes.mainHeader.removeClass("hide"),this.nodes.filterTrigger.css({top:"50px"}),setTimeout(function(){e.animate=!1},500)}},{key:"onHover",value:function(e){var t=this;clearTimeout(this.timeOut);var a=e.offset().left-($(window).width()-this.nodes.container.width())/2,s=this.nodes.mainHeader__hovered.width(),i=e.outerWidth();s<=i?a+=(i-s)/2:a-=(s-i)/2,e.addClass("hovered"),this.nodes.mainHeader__hovered.css({transform:"translate(".concat(a,"px, 0)")}),this.nodes.mainHeader__hovered.hasClass("active")||setTimeout(function(){t.nodes.mainHeader__hovered.addClass("active")},10)}},{key:"onUnHover",value:function(e){var t=this;this.timeOut=setTimeout(function(){t.nodes.mainHeader__hovered.removeClass("active")},2e3),e.removeClass("hovered")}},{key:"minicartAnimation",value:function(){var a=this;this.nodes.mainHeader__cart.hasClass("not_empty")&&this.nodes.mainHeader__cart.hasClass("favourite")&&(this.minicartInterval=setInterval(function(){var e=a.nodes.mainHeader__cart.find("g.not_empty"),t=a.nodes.mainHeader__cart.find("g.favourite");"none"!=e.css("display")?(e.hide(),t.show()):(e.show(),t.hide())},2e3))}},{key:"popupHeader",value:function(e){var t=this,a=e.data("popup"),s=$('.mainHeader__popup[data-popup="'+a+'"]');if(this.nodes.mainHeader__hovered.removeClass("active"),e.hasClass("active"))s.removeClass("active"),setTimeout(function(){s.removeClass("unhidden")},500),this.nodes.mainHeader__popupTriangle.removeClass("active"),e.removeClass("active");else{if(this.triangleLeft(e),s.addClass("active unhidden"),e.addClass("active"),"cart"==a){var i=e.offset().left-(s.outerWidth()/2-e.outerWidth()/2);s.css({left:"".concat(i,"px")})}else"search"==a?(this.nodes.mainHeader__popupTriangle.css({left:"0",right:"0"}),this.nodes.mainHeader__searchInput.focus()):"menu"==a&&setTimeout(function(){t.picked($(".mainHeader__popupMenuTab.active"))},500);var n=window.innerHeight-this.nodes.mainHeader.height();s.css("max-height","".concat(n,"px"))}}},{key:"triangleLeft",value:function(e){var t=e.offset().left+e.outerWidth()/2-11;this.nodes.mainHeader__popupTriangle.addClass("active"),this.nodes.mainHeader__popupTriangle.css({left:"".concat(t,"px"),right:"auto"})}},{key:"searchClose",value:function(){var e=this;this.nodes.mainHeader__right.css({"flex-grow":0}).removeClass("active"),setTimeout(function(){e.nodes.mainHeader__search.removeClass("grow"),e.nodes.mainHeader__searchInput.removeClass("grow"),e.nodes.mainHeader__menu.removeClass("hide"),e.nodes.mainHeader__contacts.removeClass("hide"),e.nodes.mainHeader__cart.removeClass("hide")},500),setTimeout(function(){$(".mainHeader__rightOnMobile").removeClass("hide")},100),this.nodes.mainHeader__searchSubmit.removeClass("active"),this.nodes.mainHeader__searchSubmit.removeClass("active"),this.nodes.mainHeader__searchInput.removeClass("active")}}]),t}(),MainSlider=function(){function t(e){_classCallCheck(this,t),this.root=e,this._cacheNodes(),this._bindEvents(),this._ready()}return _createClass(t,[{key:"_cacheNodes",value:function(){this.nodes={mainSlider:$(".mainSlider")}}},{key:"_bindEvents",value:function(){}},{key:"_ready",value:function(){this.nodes.mainSlider.owlCarousel({items:1,loop:!0,autoplay:!0,checkVisible:!1,smartSpeed:1e3})}}]),t}(),Compare=function(){function t(e){_classCallCheck(this,t),this.root=e,this.itemsCount=0,this.itemWidth=0,this.itemsInCont=0,this.animate=!1,this._cacheNodes(),this._fillOptions(),this._bindEvents(),this._ready()}return _createClass(t,[{key:"_cacheNodes",value:function(){this.nodes={cont:$(".compare__products .compare__container"),jsCompareContainer:$(".js-compare-container"),compare__productsItem:$(".compare__productsItem"),compare__tab:$(".compare__tab"),compare__prev:$(".compare__prev"),compare__next:$(".compare__next"),compare__products:$(".compare__products"),compare:$(".compare")}}},{key:"_fillOptions",value:function(){this.itemsCount=this.nodes.compare__productsItem.length,this.itemWidth=this.nodes.compare__productsItem.eq(0).width(),this.itemsInCont=this.nodes.cont.width()/this.itemWidth,this.nodes.compare__products.data("top",this.nodes.compare__products.offset().top)}},{key:"_bindEvents",value:function(){var i=this;this.nodes.compare__tab.unbind("click"),this.nodes.compare__tab.click(function(e){var t=$(e.currentTarget);t.hasClass("active")?(t.removeClass("active"),t.parents(".compare__item").next(".compare__tabContent").slideUp()):(t.addClass("active"),t.parents(".compare__item").next(".compare__tabContent").slideDown())}),$(window).resize(function(){i._fillOptions(),i.resize(),i.showHideButtons()}),$(window).scroll(function(e){var t=$(window).scrollTop(),a=i.nodes.compare__products.data("top"),s=i.nodes.compare__products.height();a<t?(i.nodes.compare.css({"padding-top":"".concat(s,"px")}),i.nodes.compare__products.addClass("fixed")):(i.nodes.compare.css({"padding-top":"20px"}),i.nodes.compare__products.removeClass("fixed"))}),this.nodes.compare__next.click(function(e){if(!i.animate){i.animate=!0;var t=Math.abs(parseInt(i.nodes.jsCompareContainer.data("left")))||0,a=t/i.itemWidth,s=0;s=a+i.itemsInCont!=i.itemsCount?(a+1)*i.itemWidth:t,a+1+i.itemsInCont==i.itemsCount||a+i.itemsInCont==i.itemsCount?i.nodes.compare__next.addClass("disabled"):i.nodes.compare__next.removeClass("disabled"),i.nodes.compare__prev.removeClass("disabled"),i.nodes.jsCompareContainer.css({transform:"translate(-".concat(s,"px, 0)")}).data("left",s),setTimeout(function(){i.animate=!1},800)}}),this.nodes.compare__prev.click(function(e){if(!i.animate){i.animate=!0;var t=Math.abs(parseInt(i.nodes.jsCompareContainer.data("left")))||0,a=t/i.itemWidth,s=0;s=0<a?(a-1)*i.itemWidth:t,0==a||a-1==0?i.nodes.compare__prev.addClass("disabled"):i.nodes.compare__prev.removeClass("disabled"),i.nodes.compare__next.removeClass("disabled"),i.nodes.jsCompareContainer.css({transform:"translate(-".concat(s,"px, 0)")}).data("left",s),setTimeout(function(){i.animate=!1},800)}})}},{key:"_ready",value:function(){this.resize(),this.showHideButtons(),this.nodes.compare__prev.addClass("disabled")}},{key:"resize",value:function(){var e=this.itemsCount*this.itemWidth;this.nodes.jsCompareContainer.width(e)}},{key:"showHideButtons",value:function(){this.itemsInCont>=this.itemsCount?(this.nodes.compare__prev.hide(),this.nodes.compare__next.hide()):(this.nodes.compare__prev.show(),this.nodes.compare__next.show())}}]),t}(),ProductTabs=function(){function t(e){_classCallCheck(this,t),this.root=e,this._cacheNodes(),this._bindEvents(),this._ready()}return _createClass(t,[{key:"_cacheNodes",value:function(){this.nodes={properties__tabUnderline:$(".properties__tabUnderline"),properties__tab:$(".properties__tab"),properties__content:$(".properties__content"),properties__feature:$(".properties__feature"),properties__featureList:$(".properties__featureList")}}},{key:"_bindEvents",value:function(){var s=this;this.nodes.properties__tab.click(function(e){var t=$(e.currentTarget),a=t.index();s.nodes.properties__tab.removeClass("active"),s.nodes.properties__content.removeClass("active"),t.addClass("active"),s.nodes.properties__content.eq(a).addClass("active"),s.doIt(),flexGridAddElements("newsBlock__inner","newsBlock__item","newsBlock__item_hide")}),this.nodes.properties__feature.click(function(e){var t=$(e.currentTarget);t.index();t.hasClass("active")||(s.nodes.properties__feature.removeClass("active"),s.nodes.properties__featureList.slideUp(500),t.addClass("active"),t.find(".properties__featureList").slideDown(500))}),$(window).resize(function(){s.doIt()})}},{key:"_ready",value:function(){this.doIt()}},{key:"doIt",value:function(){var a=this;this.nodes.properties__tabUnderline.get(0)&&setTimeout(function(){var e=$(".properties__tab.active"),t=e.offset().left+(e.outerWidth()-106)/2;a.nodes.properties__tabUnderline.css({left:"".concat(t,"px")})},10)}}]),t}(),Cart=function(){function t(e){_classCallCheck(this,t),this.root=e,this._cacheNodes(),this._bindEvents(),this._ready()}return _createClass(t,[{key:"_cacheNodes",value:function(){this.nodes={cart:$(".cart"),cart__countMinus:$(".cart__countMinus"),cart__countInput:$(".cart__countInput"),cart__countPlus:$(".cart__countPlus"),address:$(".cartForm__itemAddress input"),addressMap__inner:$("#addressMap__inner"),cartForm__addressTrigger:$("#cartForm__addressTrigger"),addressMap__centerAddress:$(".addressMap__centerAddress"),addressMap__centerPick:$(".addressMap__centerPick"),myMap:new Object,mainHeader:$(".mainHeader"),mainHeader__cart:$(".mainHeader__cart"),mainHeader__popupSuccess:$(".mainHeader__popupSuccess"),mainHeader__popupSuccess_cart:$(".mainHeader__popupSuccess_cart"),mainHeader__popupSuccess_compare:$(".mainHeader__popupSuccess_compare"),mainHeader__popupSuccess_favourite:$(".mainHeader__popupSuccess_favourite"),mainHeader__popupSuccessTriangle:$(".mainHeader__popupSuccessTriangle"),catalog__itemCart:$(".js-add-to-cart"),catalog__itemCompare:$(".js-add-to-compare"),catalog__itemFavourite:$(".js-add-to-favourite"),js_delete_from_favourite:$(".js-delete-from-favourite"),js_delete_from_compare:$(".js-delete-from-compare"),addToCart__tocart:$(".addToCart__tocart"),js_service_change:$(".js-service-change")}}},{key:"_bindEvents",value:function(){var l=this;$(".select-jquery-ui").selectmenu(),$(".product__seeAllImage, .product__allPhoto").click(function(){$(".product__mainImage").click()}),$('[data-fancybox="oneClick"]').fancybox({animationEffect:"zoom-in-out",btnTpl:{smallBtn:'<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"><img src="/img/clouse2.svg"></button>'},touch:!1,baseTpl:'<div class="fancybox-container productImage__wrapper" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-stage"></div><div class="fancybox-caption"></div></div></div>',beforeLoad:function(e,t){var a,s,i,n,r=$(t.opts.$orig),o=r.parents(".catalog__item"),c=r.parents(".product"),d=$("#oneClick");n||(n=""),o.get(0)?(a=o.find(".catalog__itemName span").text(),s=o.find(".catalog__itemImage img").prop("src"),i=o.data("id"),n=o.find(".catalog__itemToCart").data("paramsv")):(a=c.find("h1").text(),i=c.data("id"),n=l.getParamsv(),console.log(1),s=c.find('.product__sliderImage[data-paramsv="'+n+'"]').prop("src"),console.log(s)),d.find(".addToCart__header").text(a),d.find(".addToCart__image div").css("background-image",'url("'+s+'")'),$('[name="OneClickForm[paramsV]"]').val(n),$('[name="OneClickForm[product_id]"]').val(i)}}),$.widget("custom.customselectmenu",$.ui.selectmenu,{_renderButtonItem:function(e){var t=$("<span>",{class:"ui-selectmenu-text"});return this._setText(t,e.label),t.prepend('<span class="ui-selectmenu-text-colorDot" style="background-color: '+$(e.element).data("color")+';">'),t}}),$(".select-product-jquery-ui").customselectmenu({change:function(e,t){l.reloadProduct()}}),$(".select-jquery-ui-popup").customselectmenu({change:function(e,t){var i=new Array,s="";$(e.target).parents(".addToCart").find(".select-jquery-ui-popup").each(function(e,t){var a=$(t).val(),s=$(t).siblings(".product__selectName").html();s=s.substring(0,s.length-1),i[e]="".concat(s," -> ").concat(a)});for(var a=0;a<i.length;a++)s+=i[a]+"|";s=s.substring(0,s.length-1),$(".product__sliderImage").each(function(e,t){if($(t).data("paramsv")==s){var a=$(t).data("image");$(".addToCart__image div").css({"background-image":"url(".concat(a,")")})}})}}),this.nodes.cart.on("change","."+this.nodes.js_service_change.attr("class"),function(e){l.cartReload()}),this.nodes.cart.on("change","."+this.nodes.cart__countInput.attr("class"),function(e){l.cartReload()}),$("body").on("click","."+this.nodes.cart__countPlus.attr("class"),function(e){var t=$(e.currentTarget).siblings("input"),a=parseInt(t.val());t.val(a+1),t.change()}),$("body").on("click","."+this.nodes.cart__countMinus.attr("class"),function(e){var t=$(e.currentTarget).siblings("input"),a=parseInt(t.val());t.hasClass("js-cant-zero")?1<a&&t.val(a-1):0<a&&t.val(a-1),t.change()}),this.nodes.addressMap__centerPick.click(function(){l.nodes.address.val($(".addressMap__centerAddress").text()),$.fancybox.close()}),$(window).resize(function(){l.popupLeft()}),this.nodes.catalog__itemCart.click(function(e){var t=$(e.currentTarget),a=t.data("id"),s=t.data("paramsv"),i=t.data("quantity");return l.addToCart(a,s,i),!1}),this.nodes.addToCart__tocart.click(function(e){var t=$(e.currentTarget),a=$(t).parents(".addToCart__wrapper"),s=a.data("id"),i=l.getParamsv(!0,a),n=a.find(".cart__countInput").val(),r=a.data("delivery_date"),o=a.data("present_artikul");return l.addToCart(s,i,n,a,o,r),!1}),this.nodes.catalog__itemCompare.click(function(e){var a=$(e.currentTarget),t=a.data("id"),s="id=".concat(t);return $.post("/compare/add",s,function(e){if("success"==e)a.find("svg").addClass("active"),a.attr("title","Товар в сравнении"),l.nodes.mainHeader__popupSuccess_compare.addClass("unhidden"),l.nodes.mainHeader__popupSuccess_compare.addClass("active"),l.nodes.mainHeader__popupSuccessTriangle.addClass("active"),l.nodes.mainHeader.removeClass("hide"),setTimeout(function(){l.nodes.mainHeader__popupSuccess_compare.removeClass("active"),l.nodes.mainHeader__popupSuccessTriangle.removeClass("active"),setTimeout(function(){l.nodes.mainHeader__popupSuccess_compare.removeClass("unhidden")},500)},2e3),l.minicartReload();else if("already"==e){var t=$(".mainHeader__popupSuccess_compareAlready");t.addClass("unhidden"),t.addClass("active"),l.nodes.mainHeader__popupSuccessTriangle.addClass("active"),l.nodes.mainHeader.removeClass("hide"),setTimeout(function(){t.removeClass("active"),l.nodes.mainHeader__popupSuccessTriangle.removeClass("active"),setTimeout(function(){t.removeClass("unhidden")},500)},2e3)}}),!1}),this.nodes.catalog__itemFavourite.click(function(e){var a=$(e.currentTarget),t=a.data("id"),s="id=".concat(t);return $.post("/favourite/add",s,function(e){if("success"==e)a.find("svg").addClass("active"),a.attr("title","Товар в избранном"),l.nodes.mainHeader__popupSuccess_favourite.addClass("unhidden"),l.nodes.mainHeader__popupSuccess_favourite.addClass("active"),l.nodes.mainHeader__popupSuccessTriangle.addClass("active"),l.nodes.mainHeader.removeClass("hide"),setTimeout(function(){l.nodes.mainHeader__popupSuccess_favourite.removeClass("active"),l.nodes.mainHeader__popupSuccessTriangle.removeClass("active"),setTimeout(function(){l.nodes.mainHeader__popupSuccess_favourite.removeClass("unhidden")},500)},2e3),l.minicartReload();else if("already"==e){var t=$(".mainHeader__popupSuccess_favouriteAlready");t.addClass("unhidden"),t.addClass("active"),l.nodes.mainHeader__popupSuccessTriangle.addClass("active"),l.nodes.mainHeader.removeClass("hide"),setTimeout(function(){t.removeClass("active"),l.nodes.mainHeader__popupSuccessTriangle.removeClass("active"),setTimeout(function(){t.removeClass("unhidden")},500)},2e3)}}),!1}),this.nodes.js_delete_from_favourite.click(function(e){var t=$(e.currentTarget).data("id"),a="id=".concat(t);return $.post("/favourite/delete",a,function(e){location.reload()}),!1}),this.nodes.js_delete_from_compare.click(function(e){var t=$(e.currentTarget).data("id"),a="id=".concat(t);return $.post("/compare/delete",a,function(e){location.reload()}),!1}),$('[data-fancybox="productImages"]').fancybox({loop:!0,buttons:["close"],touch:!1,animationEffect:"zoom-in-out",btnTpl:{close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><img src="/img/close.svg"></button>',arrowLeft:'<button data-fancybox-prev class="sliderButton fancybox-button fancybox-button--arrow_left" title="{{PREV}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39.49 24.9"><g><path class="sliderButton__outer" d="M7.25,24.9h14.6A7.36,7.36,0,0,0,27,22.8l10.4-10.4A7.26,7.26,0,0,0,32.25,0H17.65a7.36,7.36,0,0,0-5.1,2.1L2.15,12.5a7.26,7.26,0,0,0,5.1,12.4Z"></path><path class="sliderButton__inner" d="M25.65,18.3V6.7a.82.82,0,0,0-1.1-.7l-13.9,5.8a.8.8,0,0,0,0,1.5l13.9,5.8A.89.89,0,0,0,25.65,18.3Z"></path></g></svg></button>',arrowRight:'<button data-fancybox-next class="sliderButton fancybox-button fancybox-button--arrow_right" title="{{NEXT}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39.51 24.9"><g><path class="sliderButton__outer" d="M32.25,0H17.65a7.36,7.36,0,0,0-5.1,2.1L2.15,12.5a7.26,7.26,0,0,0,5.1,12.4h14.6A7.36,7.36,0,0,0,27,22.8l10.4-10.4A7.24,7.24,0,0,0,32.25,0Z"></path><path class="sliderButton__inner" d="M13.85,6.6V18.2a.78.78,0,0,0,1.1.7l13.9-5.8a.8.8,0,0,0,0-1.5L15,5.8A.83.83,0,0,0,13.85,6.6Z"></path></g></svg></button>',smallBtn:'<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"><img src="/img/close.svg"></button>'},baseTpl:'<div class="fancybox-container productImage__wrapper" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar" style="display: none;">{{buttons}}</div><div class="fancybox-navigation" style="display: none;">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"></div></div></div>',beforeLoad:function(e,t){var a=$(t.opts.$orig),s=a.data("header"),i=a.data("text"),n=a.data("image");0==s.length?($(".productImages__info").addClass("empty"),$(".productImages__header").text(""),$(".productImages__text").text("")):($(".productImages__info").removeClass("empty"),$(".productImages__header").text(s),$(".productImages__text").text(i)),$(".productImages__image img").prop("src",n)}}),$(".js-product-in-js").fancybox({beforeLoad:function(e,t){$(t.opts.$orig);var a=$('[name="present_artikul"]:checked').val(),s=$('[name="delivery_date"] option:selected').val(),i=$("#addToCart");i.attr("data-present_artikul",a),i.attr("data-delivery_date",s)}})}},{key:"_ready",value:function(){this.popupLeft(),this.address(),this.addressMap(),this.initProductSlider(),$(".productImages__arrowLeft").click(function(){$(".fancybox-button--arrow_left").click()}),$(".productImages__arrowRight").click(function(){$(".fancybox-button--arrow_right").click()}),$(".productImages__arrowLeft, .productImages__arrowRight").attr("unselectable","on").css("user-select","none").on("selectstart",!1)}},{key:"initProductSlider",value:function(){$(".product__slider").owlCarousel({items:1,dots:!1,nav:!0,navText:['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39.49 24.9"><g><path class="sliderButton__outer" d="M7.25,24.9h14.6A7.36,7.36,0,0,0,27,22.8l10.4-10.4A7.26,7.26,0,0,0,32.25,0H17.65a7.36,7.36,0,0,0-5.1,2.1L2.15,12.5a7.26,7.26,0,0,0,5.1,12.4Z"></path><path class="sliderButton__inner" d="M25.65,18.3V6.7a.82.82,0,0,0-1.1-.7l-13.9,5.8a.8.8,0,0,0,0,1.5l13.9,5.8A.89.89,0,0,0,25.65,18.3Z"></path></g></svg>','<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39.51 24.9"><g><path class="sliderButton__outer" d="M32.25,0H17.65a7.36,7.36,0,0,0-5.1,2.1L2.15,12.5a7.26,7.26,0,0,0,5.1,12.4h14.6A7.36,7.36,0,0,0,27,22.8l10.4-10.4A7.24,7.24,0,0,0,32.25,0Z"></path><path class="sliderButton__inner" d="M13.85,6.6V18.2a.78.78,0,0,0,1.1.7l13.9-5.8a.8.8,0,0,0,0-1.5L15,5.8A.83.83,0,0,0,13.85,6.6Z"></path></g></svg>'],navClass:["owl-prev sliderButton","owl-next sliderButton"],loop:!1})}},{key:"cartReload",value:function(){$.post("/cart/reload-cart",$(".cart").serialize(),function(e){if("empty"==e)location.reload();else{var t=JSON.parse(e);$(".cart__table").replaceWith(t[0]),$(".cart__services").html(t[1]),$(".cartForm__total").html(t[2])}})}},{key:"getParamsv",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=new Array,a="",s=$(".select-product-jquery-ui");e&&(s=t.find(".select-jquery-ui-popup")),s.each(function(e,t){var a=$(t).val(),s=$(t).siblings(".product__selectName").html();s=s.substring(0,s.length-1),i[e]="".concat(s," -> ").concat(a)});for(var n=0;n<i.length;n++)a+=i[n]+"|";return a=a.substring(0,a.length-1)}},{key:"reloadProduct",value:function(){var a=this,e=$(".product__sliderWrapper"),t=e.height(),s="reload=1&paramsv="+this.getParamsv()+"&pswHeight="+t;e.addClass("loading"),$(".product__allPhoto").hide(),$.post(location.pathname,s,function(e){var t=JSON.parse(e);$(".product").replaceWith(t[0]),$("#addToCart").replaceWith(t[1]),setTimeout(function(){a._cacheNodes(),a._bindEvents(),a.initProductSlider()},10)})}},{key:"addToCart",value:function(e,t,a){var s=this,i=3<arguments.length&&void 0!==arguments[3]&&arguments[3],n=4<arguments.length&&void 0!==arguments[4]&&arguments[4],r=5<arguments.length&&void 0!==arguments[5]&&arguments[5],o="id=".concat(e,"&quantity=").concat(a);o+=t?"&paramsV=".concat(t):"&paramsV=",n&&(o+="&presentArtikul=".concat(n)),r&&(o+="&deliveryDate=".concat(r)),$.post("/cart/add",o,function(e){"success"==e?(i?(i.find(".addToCart__bottomTop").addClass("hide"),i.find(".addToCart__bottomBottom").addClass("active")):($.fancybox.open($("#addToCartNoParams")),setTimeout(function(){$.fancybox.close()},5e3)),s.minicartReload()):(console.log(o),alert("Ошибка"))})}},{key:"address",value:function(){this.nodes.address.get(0)&&this.nodes.address.kladr({oneString:!0,change:function(e){var t,a;for(a in $(".js-log li").hide(),e)(t=$("#"+a)).length&&(t.find(".value").text(e[a]),t.show())}})}},{key:"addressMap",value:function(){var t=this;this.nodes.addressMap__inner.get(0)&&ymaps.ready(function(){var e=[55.753994,37.622093];t.nodes.myMap=new ymaps.Map(t.nodes.addressMap__inner.attr("id"),{center:e,zoom:10,controls:["zoomControl","geolocationControl"]}),t.nodes.myMap.events.add("actionend",function(e){t.getAddress(t.nodes.myMap.getCenter())}),t.getAddress(e)})}},{key:"getAddress",value:function(e){var a=this;ymaps.geocode(e).then(function(e){var t=e.geoObjects.get(0);a.nodes.addressMap__centerAddress.text(t.getAddressLine())})}},{key:"popupLeft",value:function(){if(this.nodes.mainHeader__cart.get(0)){var e=this.nodes.mainHeader__cart.offset().left,t=e+3,a=e-145;this.nodes.mainHeader__popupSuccessTriangle.css({left:"".concat(t,"px")}),this.nodes.mainHeader__popupSuccess.css({left:"".concat(a,"px")})}}},{key:"minicartReload",value:function(){$.post("/cart/minicart","",function(e){$(".mainHeader__popupCart .mainHeader__popupOuter").replaceWith(e)})}}]),t}(),Sorting=function(){function t(e){_classCallCheck(this,t),this.root=e,this._cacheNodes(),this._bindEvents(),this._ready()}return _createClass(t,[{key:"_cacheNodes",value:function(){this.nodes={per_page:$('[name="per_page"]'),sort:$('[name="sort"]'),sorting:$(".sorting")}}},{key:"_bindEvents",value:function(){var i=this;this.nodes.per_page.change(function(){i.nodes.sorting.submit()}),this.nodes.sort.on("selectmenuchange",function(){i.nodes.sorting.submit()}),this.nodes.sorting.submit(function(){var e=i.nodes.sort.val(),t=$('[name="per_page"]:checked').val(),a="per_page=".concat(t);1<e.length&&(a+="&sort=".concat(e));var s=$(".filter").serialize();return location="".concat(location.pathname,"?").concat(a,"&").concat(s),!1})}},{key:"_ready",value:function(){}}]),t}(),Filter=function(){function t(e){_classCallCheck(this,t),this.root=e,this.filter__itemCategoriesContentListItem_class="filter__itemCategoriesContentListItem",this.filter__itemCategoriesContentItem_class="filter__itemCategoriesContentItem",this.filter__itemCategoriesContentHeader_class="filter__itemCategoriesContentHeader",this.filter__item_class="filter__item",this._cacheNodes(),this._bindEvents(),this._ready()}return _createClass(t,[{key:"_cacheNodes",value:function(){this.nodes={filter__item:$("."+this.filter__item_class),filter:$(".filter"),filter__submit:$(".filter__submit"),filter__itemCategoriesContentListItem:$("."+this.filter__itemCategoriesContentListItem_class),filter__itemCategoriesContentHeader:$("."+this.filter__itemCategoriesContentHeader_class),filter__itemCategoriesContentItem:$("."+this.filter__itemCategoriesContentItem_class),filter__itemCategory:$(".filter__itemCategory"),filter__itemCategoriesContent:$(".filter__itemCategoriesContent"),filter__itemSearchInput:$(".filter__itemSearchInput"),filter__itemSearchSubmit:$(".filter__itemSearchSubmit"),filter__itemHeader:$(".filter__itemHeader"),filter__priceSlider:$(".filter__priceSlider"),filter__priceFrom:$(".filter__priceFrom"),filter__priceTo:$(".filter__priceTo"),filter__priceInput:$(".filter__priceInput"),filterTrigger__top_li:$(".filterTrigger__top li")}}},{key:"_bindEvents",value:function(){var r=this;this.nodes.filter.on("submit",function(){var e=$(".filter :input[value!='']").serialize();return location=location.pathname+"?"+e+"&"+$(".sorting").serialize(),!1}),this.nodes.filter__priceInput.focus(function(e){var t=$(e.currentTarget);t.data("number",t.val()),t.val("")}),this.nodes.filter__priceInput.blur(function(e){var t=$(e.currentTarget);t.val(t.data("number"))}),this.nodes.filter__priceInput.keyup(function(e){var t=$(e.currentTarget);t.data("number",t.val())}),this.nodes.filter__itemHeader.click(function(e){var t=$(e.currentTarget).parents("."+r.filter__item_class),a=t.find(".filter__itemInner");t.hasClass("active")?(a.slideUp(500),t.removeClass("active")):(a.slideDown(500),t.addClass("active"))}),this.nodes.filter__itemSearchSubmit.click(function(e){$(e.currentTarget);r.nodes.filter__itemSearchInput.val(""),setTimeout(function(){r.nodes.filter__itemSearchInput.keyup()},10)}),this.nodes.filter__itemSearchInput.keyup(function(e){var t=$(e.currentTarget),a=t.val().toLowerCase(),s=t.parents("."+r.filter__item_class);0<a.length?(s.find(".filter__itemCategoriesContentItem").each(function(e,t){$(t).find("."+r.filter__itemCategoriesContentListItem_class).each(function(e,t){0<=$(t).find("span").text().toLowerCase().indexOf(a)?$(t).show():$(t).hide()})}),r.nodes.filter__itemSearchSubmit.addClass("active")):(r.nodes.filter__itemCategoriesContentListItem.show(),r.nodes.filter__itemSearchSubmit.removeClass("active"))}),this.nodes.filter__itemCategoriesContentHeader.click(function(e){var t=$(e.currentTarget),a=t.parents("."+r.filter__itemCategoriesContentItem_class);t.hasClass("active")?(a.find("."+r.filter__itemCategoriesContentListItem_class).each(function(e,t){$(t).find("input").prop("checked",!1)}),t.removeClass("active")):(a.find("."+r.filter__itemCategoriesContentListItem_class).each(function(e,t){$(t).find("input").prop("checked",!0)}),t.addClass("active")),r.fillChecked(t.parents("."+r.filter__item_class))}),this.nodes.filter__itemCategoriesContentListItem.click(function(e){var t=$(e.currentTarget),a=t.parents("."+r.filter__itemCategoriesContentItem_class),s=a.find("."+r.filter__itemCategoriesContentHeader_class),i=!0;a.find("."+r.filter__itemCategoriesContentListItem_class).each(function(e,t){0==$(t).find("input").prop("checked")&&(i=!1)}),i?s.addClass("active"):s.removeClass("active"),r.fillChecked(t.parents("."+r.filter__item_class))}),this.nodes.filter__itemCategory.click(function(e){var t=$(e.currentTarget),a=t.index(),s=t.parents("."+r.filter__item_class).find(".filter__itemCategoriesContent");r.nodes.filter__itemCategory.removeClass("active"),t.addClass("active"),s.removeClass("active"),s.eq(a).addClass("active")}),this.nodes.filter__priceFrom.change(function(e){var t=r.nodes.filter__priceFrom.val();t&&(t=parseInt(t.replace(/\s/g,"")));var a=r.nodes.filter__priceTo.val();if(a&&(a=parseInt(a.replace(/\s/g,""))),parseInt(t)>parseInt(a)&&(t=a,r.nodes.filter__priceFrom.val(t)),t<1e5){var s=t;r.nodes.filter__priceSlider.slider("values",0,s)}else{var i=t-1e5,n=Math.round(i/99+1e5);r.nodes.filter__priceSlider.slider("values",0,n)}$(e.currentTarget).val(r.number_format($(e.currentTarget).val(),0,"."," ")),r.priceDescription(),r.fillChecked($("filter__item").eq(0))}),this.nodes.filter__priceTo.change(function(e){var t=r.nodes.filter__priceFrom.val();t&&(t=parseInt(t.replace(/\s/g,"")));var a=r.nodes.filter__priceTo.val();if(a&&(a=parseInt(a.replace(/\s/g,""))),parseInt(t)>parseInt(a)&&(a=t,r.nodes.filter__priceFrom.val(a)),a<1e5){var s=a;r.nodes.filter__priceSlider.slider("values",1,s)}else{var i=a-1e5,n=Math.round(i/99+1e5);r.nodes.filter__priceSlider.slider("values",1,n)}$(e.currentTarget).val(r.number_format($(e.currentTarget).val(),0,"."," ")),r.priceDescription(),r.fillChecked($("filter__item").eq(0))}),$(".js-filter-close").click(function(){r.filterClose()}),$(".js-filter-open").click(function(){r.filterOpen()}),$(".js-filter-clear").click(function(){var e=r.nodes.filter__priceFrom.data("minprice"),t=r.nodes.filter__priceTo.data("maxprice");r.nodes.filter.find("."+r.filter__itemCategoriesContentListItem_class+" input").prop("checked",!1),r.nodes.filter__priceFrom.val(r.number_format(e,0,"."," ")),r.nodes.filter__priceTo.val(r.number_format(t,0,"."," ")),r.nodes.filter__priceSlider.slider("values",0,e),r.nodes.filter__priceSlider.slider("values",1,t),r.fillCheckWhenReady()}),this.nodes.filterTrigger__top_li.click(function(){var e=$(event.currentTarget).index()-1,t=$("."+r.filter__item_class).eq(e);return r.filterOpen(),setTimeout(function(){t.hasClass("active")||-1==e||t.find(".filter__itemHeader").click()},550),!1})}},{key:"_ready",value:function(){var a=this;if(this.nodes.filter.get(0)){this.fillCheckWhenReady(),this.priceDescription(),setTimeout(function(){$(".filterTrigger").addClass("active")},1500),setTimeout(function(){a.filterClose()},1e3);var e=parseInt(this.nodes.filter__priceFrom.data("minprice")),t=parseInt(this.nodes.filter__priceTo.data("maxprice")),s=this.nodes.filter__priceFrom.val();s&&(s=parseInt(s.replace(/\s/g,"")));var i=this.nodes.filter__priceTo.val();i&&(i=parseInt(i.replace(/\s/g,""))),this.nodes.filter__priceSlider.slider({min:e,max:t,values:[s,i],range:!0,slide:function(e,t){a.priceSlide()},stop:function(e,t){a.priceSlide()}})}}},{key:"priceSlide",value:function(){var e=this.nodes.filter__priceSlider.slider("values",0),t=this.nodes.filter__priceSlider.slider("values",1);this.nodes.filter__priceFrom.val(this.number_format(e,0,"."," ")),this.nodes.filter__priceTo.val(this.number_format(t,0,"."," ")),this.fillChecked($("filter__item").eq(0)),this.priceDescription()}},{key:"filterClose",value:function(){this.nodes.filter.slideUp(500),$("html").removeClass("html-hidden")}},{key:"filterOpen",value:function(){var e=this,t=$(".mainHeader").height(),a=$(".breadcrumbs").height(),s=window.innerHeight-t-a;this.nodes.filter.slideDown(500,function(){e.nodes.filter.height(s)}),$("html").addClass("html-hidden")}},{key:"fillChecked",value:function(e){var t,s="",i=-1,a="",n=!0;e.find("."+this.filter__itemCategoriesContentListItem_class).each(function(e,t){if(1==$(t).find("input").prop("checked")){var a=$(t).parent().siblings(".filter__itemCategoriesContentHeader").find("span").html();a?a+=": ":a="",i<0&&(s+=", "+a+$(t).find("span").text()),30<=s.length&&i++,n=!1}});var r="параметров",o=0;if(this.nodes.filter.find('[type="checkbox"]').each(function(e,t){1==$(t).prop("checked")&&o++}),this.nodes.filter__priceSlider.slider("instance")){var c=this.nodes.filter__priceSlider.slider("values",0),d=this.nodes.filter__priceSlider.slider("values",1),l=parseInt(this.nodes.filter__priceFrom.data("minprice")),_=parseInt(this.nodes.filter__priceTo.data("maxprice"));c==l&&d==_||o++}o%10==1?r="параметр":o%10!=2&&o%10!=3&&o%10!=4||(r="параметра"),t="Выбрано: ".concat(o," ").concat(r),a=0<i?"{".concat(s.slice(2),", и еще ").concat(i,"}"):n?"{Ничего не выбрано}":"{".concat(s.slice(2),"}"),e.find(".filter__description").html(a),$(".filterTrigger__topItemCount").html(t),this.fillTriggerDescr()}},{key:"fillCheckWhenReady",value:function(){var a=this;this.nodes.filter__item.each(function(e,t){a.fillChecked($(t))})}},{key:"fillTriggerDescr",value:function(){var n=this;$(".filter__item .filter__description").each(function(e,t){var a=$(t).html(),s=n.nodes.filterTrigger__top_li.eq(e+1),i=s.find(".filterTrigger__topItem");"{Ничего не выбрано}"==a?s.removeClass("active"):(s.addClass("active"),i.find("span").html(a))})}},{key:"priceDescription",value:function(){var e=parseInt(this.nodes.filter__priceFrom.val().replace(/\s/g,"")),t=parseInt(this.nodes.filter__priceTo.val().replace(/\s/g,"")),a=$(".filter__description_price");0<e||t<1e7?a.html("{от "+this.number_format(e,0,"."," ")+" до "+this.number_format(t,0,"."," ")+' <span class="rubl">₽</span>}'):a.html("{Ничего не выбрано}"),this.fillTriggerDescr()}},{key:"number_format",value:function(e,t,a,s){var i,n;return isNaN(t=Math.abs(t))&&(t=2),null==a&&(a=","),null==s&&(s="."),3<(n=(i=parseInt(e=(+e||0).toFixed(t))+"").length)?n%=3:n=0,(n?i.substr(0,n)+s:"")+i.substr(n).replace(/(\d{3})(?=\d)/g,"$1"+s)+(t?a+Math.abs(e-i).toFixed(t).replace(/-/,0).slice(2):"")}}]),t}(),Application=function(){function e(){_classCallCheck(this,e),this._mainScripts(),this._initClasses()}return _createClass(e,[{key:"_mainScripts",value:function(){$(".brands__inner").owlCarousel({dots:!1,nav:!0,navText:['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35.7 30.35"><defs><style>.slider-left-svg{fill:#e83a4a;}</style></defs><g><path class="slider-left-svg" d="M35.7,28.55V1.75A1.76,1.76,0,0,0,33.2.15l-32,13.3a1.88,1.88,0,0,0,0,3.5l32,13.3A1.9,1.9,0,0,0,35.7,28.55Z"/></g></svg>','<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35.7 30.35"><defs><style>.slider-right-svg{fill:#e83a4a;}</style></defs><g><path class="slider-right-svg" d="M0,1.8V28.6a1.76,1.76,0,0,0,2.5,1.6l32-13.3a1.88,1.88,0,0,0,0-3.5L2.5.1A1.83,1.83,0,0,0,0,1.8Z"/></g></svg>'],loop:!0,responsive:{0:{items:1},650:{items:2},900:{items:3}}}),$(".category__slider").owlCarousel({dots:!1,nav:!0,navText:['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39.49 24.9"><g><path class="sliderButton__outer" d="M7.25,24.9h14.6A7.36,7.36,0,0,0,27,22.8l10.4-10.4A7.26,7.26,0,0,0,32.25,0H17.65a7.36,7.36,0,0,0-5.1,2.1L2.15,12.5a7.26,7.26,0,0,0,5.1,12.4Z"></path><path class="sliderButton__inner" d="M25.65,18.3V6.7a.82.82,0,0,0-1.1-.7l-13.9,5.8a.8.8,0,0,0,0,1.5l13.9,5.8A.89.89,0,0,0,25.65,18.3Z"></path></g></svg>','<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39.51 24.9"><g><path class="sliderButton__outer" d="M32.25,0H17.65a7.36,7.36,0,0,0-5.1,2.1L2.15,12.5a7.26,7.26,0,0,0,5.1,12.4h14.6A7.36,7.36,0,0,0,27,22.8l10.4-10.4A7.24,7.24,0,0,0,32.25,0Z"></path><path class="sliderButton__inner" d="M13.85,6.6V18.2a.78.78,0,0,0,1.1.7l13.9-5.8a.8.8,0,0,0,0-1.5L15,5.8A.83.83,0,0,0,13.85,6.6Z"></path></g></svg>'],navClass:["owl-prev sliderButton","owl-next sliderButton"],loop:!1,responsive:{0:{items:1},370:{items:2},500:{items:3},650:{items:4},800:{items:5},930:{items:6},1080:{items:7}}}),$(".productSlider__inner").owlCarousel({dots:!1,nav:!0,navText:['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39.49 24.9"><g><path class="sliderButton__outer" d="M7.25,24.9h14.6A7.36,7.36,0,0,0,27,22.8l10.4-10.4A7.26,7.26,0,0,0,32.25,0H17.65a7.36,7.36,0,0,0-5.1,2.1L2.15,12.5a7.26,7.26,0,0,0,5.1,12.4Z"></path><path class="sliderButton__inner" d="M25.65,18.3V6.7a.82.82,0,0,0-1.1-.7l-13.9,5.8a.8.8,0,0,0,0,1.5l13.9,5.8A.89.89,0,0,0,25.65,18.3Z"></path></g></svg>','<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39.51 24.9"><g><path class="sliderButton__outer" d="M32.25,0H17.65a7.36,7.36,0,0,0-5.1,2.1L2.15,12.5a7.26,7.26,0,0,0,5.1,12.4h14.6A7.36,7.36,0,0,0,27,22.8l10.4-10.4A7.24,7.24,0,0,0,32.25,0Z"></path><path class="sliderButton__inner" d="M13.85,6.6V18.2a.78.78,0,0,0,1.1.7l13.9-5.8a.8.8,0,0,0,0-1.5L15,5.8A.83.83,0,0,0,13.85,6.6Z"></path></g></svg>'],navClass:["owl-prev sliderButton","owl-next sliderButton"],loop:!0,responsive:{0:{items:1},750:{items:2},1130:{items:3}}}),flexGridAddElements("catalog__inner","catalog__item","catalog__item_hide"),flexGridAddElements("newsBlock__inner","newsBlock__item","newsBlock__item_hide"),flexGridAddElements("brands__listInner","brands__listItem","brands__listItem_hide"),flexGridAddElements("mostCatalog__inner","mostCatalog__item","mostCatalog__item_hide"),$("[data-fancybox]").fancybox({loop:!0,buttons:["close"],btnTpl:{close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><img src="/img/close.svg"></button>',arrowLeft:'<button data-fancybox-prev class="sliderButton fancybox-button fancybox-button--arrow_left" title="{{PREV}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39.49 24.9"><g><path class="sliderButton__outer" d="M7.25,24.9h14.6A7.36,7.36,0,0,0,27,22.8l10.4-10.4A7.26,7.26,0,0,0,32.25,0H17.65a7.36,7.36,0,0,0-5.1,2.1L2.15,12.5a7.26,7.26,0,0,0,5.1,12.4Z"></path><path class="sliderButton__inner" d="M25.65,18.3V6.7a.82.82,0,0,0-1.1-.7l-13.9,5.8a.8.8,0,0,0,0,1.5l13.9,5.8A.89.89,0,0,0,25.65,18.3Z"></path></g></svg></button>',arrowRight:'<button data-fancybox-next class="sliderButton fancybox-button fancybox-button--arrow_right" title="{{NEXT}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39.51 24.9"><g><path class="sliderButton__outer" d="M32.25,0H17.65a7.36,7.36,0,0,0-5.1,2.1L2.15,12.5a7.26,7.26,0,0,0,5.1,12.4h14.6A7.36,7.36,0,0,0,27,22.8l10.4-10.4A7.24,7.24,0,0,0,32.25,0Z"></path><path class="sliderButton__inner" d="M13.85,6.6V18.2a.78.78,0,0,0,1.1.7l13.9-5.8a.8.8,0,0,0,0-1.5L15,5.8A.83.83,0,0,0,13.85,6.6Z"></path></g></svg></button>',smallBtn:'<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"><img src="/img/close.svg"></button>'}}),$('[data-fancybox="addressMap"]').fancybox({touch:!1,btnTpl:{smallBtn:'<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"><img src="/img/clouse2.svg"></button>'}}),$(".infs__tab").click(function(){$(".infs__tab").removeClass("active"),$(".infs__content").removeClass("active"),$(this).addClass("active"),$(".infs__content").eq($(this).index()).addClass("active")}),$(".addToCart__continue").click(function(){$.fancybox.close(),$(".mainHeader__popupSuccess_cart").addClass("active unhidden"),$(".mainHeader__popupSuccessTriangle").addClass("active"),setTimeout(function(){$(".mainHeader__popupSuccess_cart").removeClass("active"),$(".mainHeader__popupSuccessTriangle").removeClass("active"),setTimeout(function(){$(".mainHeader__popupSuccess_cart").removeClass("unhidden")},500)},2e3)}),$(".category__tagSeeAll").click(function(){return $(this).hasClass("active")?($(this).html("<span>посмотреть все -&gt;</span>").removeClass("active"),$(".category__tag").css({display:"none"}),$(".category__tag:nth-child(n+10)").css({display:"inline-block"})):($(this).html("<span>свернуть &lt;-</span>").addClass("active"),$(".category__tag").css({display:"inline-block"})),!1}),$(".alphabet__tab").click(function(){var e=$(this).data("id"),t=$('.alphabet__content[data-id="'+e+'"]').offset().top-50;$("html, body").stop().animate({scrollTop:t},400,"swing")}),$("body").on("beforeSubmit",".sendForm",function(e){var t=$(e.currentTarget),a=t.find('[type="submit"]');if(!a.hasClass("loading")){var s=new FormData(t.get(0)),i=new XMLHttpRequest,n=a.html();return"subscribe"==t.attr("id")?i.open("POST","/site/subscribe"):i.open("POST","/mail/index"),i.send(s),a.addClass("loading"),i.upload.onprogress=function(){},!(i.onreadystatechange=function(){if(4==i.readyState)if(200==i.status){var e=i.responseText;a.removeClass("loading"),"oneClick"==t.attr("id")?e&&(location="/cart/success/"+e):"success"==e?(t[0].reset(),a.find("span").get(0)?(a.addClass("send"),a.find("span").text("Спасибо!")):a.addClass("send").text("Спасибо!"),setTimeout(function(){$.fancybox.close(),a.removeClass("send").html(n)},3e3)):alert("Ошибка")}else console.log("error status")})}}),$('[href^="tel:"]').click(function(){return $(window).width()<900});var t=$(".redirect__number");t.get(0)&&setInterval(function(){var e=parseInt(t.text())-1;0==e&&$(".to-yandex").submit(),0<=e&&t.text(e)},1e3)}},{key:"_initClasses",value:function(){new Header,new MainSlider,new ProductTabs,new Cart,new Filter,new Sorting,$(".compare").get(0)&&new Compare}}]),e}();new Application;